{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/shared.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/get-contacts.service\";\nimport * as i4 from \"ng6-toastr-notifications\";\nimport * as i5 from \"@angular/common\";\n\nfunction ContactListReadComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 7);\n    i0.ɵɵelementStart(10, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ContactListReadComponent_tr_18_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const contact_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.updateContact(contact_r1.id);\n    });\n    i0.ɵɵtext(11, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ContactListReadComponent_tr_18_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const contact_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.deleteContact(contact_r1.id);\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r1.surname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r1.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(contact_r1.email);\n  }\n}\n\nexport let ContactListReadComponent = /*#__PURE__*/(() => {\n  class ContactListReadComponent {\n    constructor(sharedService, router, getContacts, toastr) {\n      this.sharedService = sharedService;\n      this.router = router;\n      this.getContacts = getContacts;\n      this.toastr = toastr;\n      this.contactList = [];\n      sharedService.setViewContactId(null);\n    }\n\n    ngOnInit() {\n      const promise = this.getContacts.getContacts();\n      promise.then(response => {\n        this.contactList = response;\n      }, error => {\n        console.log(\"error \" + error);\n      });\n    }\n\n    createContact() {\n      this.router.navigate([\"/create\"]);\n    }\n\n    updateContact(id) {\n      //Pozivamo servis da sacuva id\n      this.sharedService.setViewContactId(id);\n      this.router.navigate([\"/update\"]);\n    }\n\n    deleteContact(id) {\n      //Brisemo trazeni kontakt iz liste\n      const index = this.contactList.findIndex(x => x.id == id);\n\n      if (index > -1) {\n        this.contactList.splice(index, 1);\n      }\n\n      this.toastr.successToastr(\"Contact was successfully deleted.\", \"Success!\");\n    }\n\n  }\n\n  ContactListReadComponent.ɵfac = function ContactListReadComponent_Factory(t) {\n    return new (t || ContactListReadComponent)(i0.ɵɵdirectiveInject(i1.SharedService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GetContactsService), i0.ɵɵdirectiveInject(i4.ToastrManager));\n  };\n\n  ContactListReadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactListReadComponent,\n    selectors: [[\"contact-list-read\"]],\n    decls: 19,\n    vars: 1,\n    consts: [[\"align\", \"center\"], [1, \"contact-list-table-container\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [1, \"table\"], [1, \"thead-light\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"contact-list-btn-container\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"]],\n    template: function ContactListReadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Contacts\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ContactListReadComponent_Template_button_click_3_listener() {\n          return ctx.createContact();\n        });\n        i0.ɵɵtext(4, \"Add a New Contact\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"table\", 3);\n        i0.ɵɵelementStart(6, \"thead\", 4);\n        i0.ɵɵelementStart(7, \"tr\");\n        i0.ɵɵelementStart(8, \"th\", 5);\n        i0.ɵɵtext(9, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\", 5);\n        i0.ɵɵtext(11, \"Surname\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\", 5);\n        i0.ɵɵtext(13, \"Phone Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\", 5);\n        i0.ɵɵtext(15, \"E-mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"th\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"tbody\");\n        i0.ɵɵtemplate(18, ContactListReadComponent_tr_18_Template, 14, 4, \"tr\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.contactList);\n      }\n    },\n    directives: [i5.NgForOf],\n    styles: [\".contact-list-table-container[_ngcontent-%COMP%]{width:80%;margin:auto}.contact-list-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}\"]\n  });\n  return ContactListReadComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}